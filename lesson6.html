<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>第6課：單字朗讀練習</title>
  <style>
    body { font-family: 'Arial','Hiragino Kaku Gothic ProN','游ゴシック',sans-serif; background:#fff0f5; color:#333; padding:2rem; }
    h1 { text-align:center; color:#d26fa0; font-size:2rem; margin-bottom:0.5rem; }
    .controls { display:flex; flex-wrap:wrap; gap:1rem; justify-content:flex-end; align-items:center; margin:0.5rem 0 1rem; }
    .controls label { font-size:0.95rem; color:#7a3b57; }
    .toggle { display:inline-flex; gap:0.5rem; align-items:center; background:#ffe3f0; padding:0.4rem 0.7rem; border-radius:12px; box-shadow:0 0 8px rgba(227,165,199,.5); }
    input[type="range"] { width:180px; }
    table { width:100%; border-collapse:collapse; background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 0 12px #e3a5c7; }
    th, td { padding:0.8rem; text-align:left; border-bottom:1px solid #f0cde3; }
    th { background:#f8d8e9; color:#c04583; }
    td.jp:hover { cursor:pointer; background:#ffeaf5; }
    .button-home { margin-top:2rem; text-align:center; }
    .button-home a { background:#ffaad4; color:#fff; padding:0.8rem 1.5rem; text-decoration:none; border-radius:20px; font-weight:bold; box-shadow:0 4px 8px rgba(0,0,0,.1); }
    .button-home a:hover { background:#f98fc3; }
    /* 假名顯示切換：隱藏 <rt> */
    .hide-kana ruby rt { display:none; }
    ruby { ruby-position: under; }
    ruby rt { color:#c04583; font-size:0.85em; }
  </style>
</head>
<body>
  <h1>📘 第6課：單字＋例句朗讀練習</h1>

  <!-- 工具列：假名切換＋語速 -->
  <div class="controls">
    <div class="toggle">
      <input type="checkbox" id="kanaToggle" />
      <label for="kanaToggle">假名顯示</label>
    </div>
    <div class="toggle">
      <label for="rate">朗讀語速</label>
      <input type="range" id="rate" min="0.7" max="1.3" step="0.05" value="1"/>
      <span id="rateVal">1.00×</span>
    </div>
  </div>

  <table>
    <tr>
      <th>單字（日文）</th>
      <th>中文意思</th>
      <th>例句（日文）</th>
      <th>中文翻譯</th>
    </tr>

    <!-- 動詞 -->
    <tr>
      <td class="jp" onclick="speakJP('たべます')"><ruby><rb>食</rb><rt>た</rt></ruby>べます</td>
      <td>吃</td>
      <td class="jp" onclick="speakJP('パンを たべます。')">パンを たべます。</td>
      <td>吃麵包。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('のみます')"><ruby><rb>飲</rb><rt>の</rt></ruby>みます</td>
      <td>喝</td>
      <td class="jp" onclick="speakJP('みずを のみます。')">みずを のみます。</td>
      <td>喝水。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('すいます')"><ruby><rb>吸</rb><rt>す</rt></ruby>います</td>
      <td>吸（菸）</td>
      <td class="jp" onclick="speakJP('たばこを すいます。')">たばこを すいます。</td>
      <td>抽菸。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('みます')"><ruby><rb>見</rb><rt>み</rt></ruby>ます</td>
      <td>看</td>
      <td class="jp" onclick="speakJP('テレビを みます。')">テレビを みます。</td>
      <td>看電視。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('ききます')"><ruby><rb>聞</rb><rt>き</rt></ruby>きます</td>
      <td>聽</td>
      <td class="jp" onclick="speakJP('おんがくを ききます。')">おんがくを ききます。</td>
      <td>聽音樂。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('よみます')"><ruby><rb>読</rb><rt>よ</rt></ruby>みます</td>
      <td>讀</td>
      <td class="jp" onclick="speakJP('ざっしを よみます。')">ざっしを よみます。</td>
      <td>讀雜誌。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('かきます')"><ruby><rb>書</rb><rt>か</rt></ruby>きます</td>
      <td>寫</td>
      <td class="jp" onclick="speakJP('てがみを かきます。')">てがみを かきます。</td>
      <td>寫信。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('かいます')"><ruby><rb>買</rb><rt>か</rt></ruby>います</td>
      <td>買</td>
      <td class="jp" onclick="speakJP('くるまを かいます。')">くるまを かいます。</td>
      <td>買車子。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('とります')"><ruby><rb>撮</rb><rt>と</rt></ruby>ります</td>
      <td>拍（照片）</td>
      <td class="jp" onclick="speakJP('しゃしんを とります。')">しゃしんを とります。</td>
      <td>拍照片。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('します')">します</td>
      <td>做</td>
      <td class="jp" onclick="speakJP('テニスを します。')">テニスを します。</td>
      <td>打網球。</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('あいます')"><ruby><rb>会</rb><rt>あ</rt></ruby>います</td>
      <td>見面</td>
      <td class="jp" onclick="speakJP('ともだちに あいます。')">ともだちに あいます。</td>
      <td>和朋友見面。</td>
    </tr>

    <!-- 食物／飲料 -->
    <tr><td class="jp" onclick="speakJP('ごはん')">ごはん</td><td>飯</td><td class="jp" onclick="speakJP('ごはんを たべます。')">ごはんを たべます。</td><td>吃飯。</td></tr>
    <tr><td class="jp" onclick="speakJP('あさごはん')"><ruby><rb>朝</rb><rt>あさ</rt></ruby>ごはん</td><td>早餐</td><td class="jp" onclick="speakJP('あさごはんを たべます。')">あさごはんを たべます。</td><td>吃早餐。</td></tr>
    <tr><td class="jp" onclick="speakJP('ひるごはん')"><ruby><rb>昼</rb><rt>ひる</rt></ruby>ごはん</td><td>午餐</td><td class="jp" onclick="speakJP('ひるごはんを たべます。')">ひるごはんを たべます。</td><td>吃午餐。</td></tr>
    <tr><td class="jp" onclick="speakJP('ばんごはん')"><ruby><rb>晩</rb><rt>ばん</rt></ruby>ごはん</td><td>晚餐</td><td class="jp" onclick="speakJP('ばんごはんを たべます。')">ばんごはんを たべます。</td><td>吃晚餐。</td></tr>
    <tr><td class="jp" onclick="speakJP('パン')">パン</td><td>麵包</td><td class="jp" onclick="speakJP('パンを たべます。')">パンを たべます。</td><td>吃麵包。</td></tr>
    <tr><td class="jp" onclick="speakJP('たまご')"><ruby><rb>卵</rb><rt>たまご</rt></ruby></td><td>蛋</td><td class="jp" onclick="speakJP('たまごを たべます。')">たまごを たべます。</td><td>吃蛋。</td></tr>
    <tr><td class="jp" onclick="speakJP('にく')"><ruby><rb>肉</rb><rt>にく</rt></ruby></td><td>肉</td><td class="jp" onclick="speakJP('にくを たべます。')">にくを たべます。</td><td>吃肉。</td></tr>
    <tr><td class="jp" onclick="speakJP('さかな')"><ruby><rb>魚</rb><rt>さかな</rt></ruby></td><td>魚</td><td class="jp" onclick="speakJP('さかなを たべます。')">さかなを たべます。</td><td>吃魚。</td></tr>
    <tr><td class="jp" onclick="speakJP('やさい')"><ruby><rb>野菜</rb><rt>やさい</rt></ruby></td><td>蔬菜</td><td class="jp" onclick="speakJP('やさいを たべます。')">やさいを たべます。</td><td>吃蔬菜。</td></tr>
    <tr><td class="jp" onclick="speakJP('くだもの')"><ruby><rb>果物</rb><rt>くだもの</rt></ruby></td><td>水果</td><td class="jp" onclick="speakJP('くだものを たべます。')">くだものを たべます。</td><td>吃水果。</td></tr>

    <!-- 飲料 -->
    <tr><td class="jp" onclick="speakJP('みず')"><ruby><rb>水</rb><rt>みず</rt></ruby></td><td>水</td><td class="jp" onclick="speakJP('みずを のみます。')">みずを のみます。</td><td>喝水。</td></tr>
    <tr><td class="jp" onclick="speakJP('おちゃ')"><ruby><rb>お茶</rb><rt>おちゃ</rt></ruby></td><td>茶</td><td class="jp" onclick="speakJP('おちゃを のみます。')">おちゃを のみます。</td><td>喝茶。</td></tr>
    <tr><td class="jp" onclick="speakJP('こうちゃ')"><ruby><rb>紅茶</rb><rt>こうちゃ</rt></ruby></td><td>紅茶</td><td class="jp" onclick="speakJP('こうちゃを のみます。')">こうちゃを のみます。</td><td>喝紅茶。</td></tr>
    <tr><td class="jp" onclick="speakJP('ぎゅうにゅう')"><ruby><rb>牛乳</rb><rt>ぎゅうにゅう</rt></ruby></td><td>牛奶</td><td class="jp" onclick="speakJP('ぎゅうにゅうを のみます。')">ぎゅうにゅうを のみます。</td><td>喝牛奶。</td></tr>
    <tr><td class="jp" onclick="speakJP('ジュース')">ジュース</td><td>果汁</td><td class="jp" onclick="speakJP('ジュースを のみます。')">ジュースを のみます。</td><td>喝果汁。</td></tr>
    <tr><td class="jp" onclick="speakJP('ビール')">ビール</td><td>啤酒</td><td class="jp" onclick="speakJP('ビールを のみます。')">ビールを のみます。</td><td>喝啤酒。</td></tr>
    <tr><td class="jp" onclick="speakJP('おさけ')"><ruby><rb>お酒</rb><rt>おさけ</rt></ruby></td><td>酒</td><td class="jp" onclick="speakJP('おさけを のみます。')">おさけを のみます。</td><td>喝酒。</td></tr>

    <!-- 其他名詞 -->
    <tr><td class="jp" onclick="speakJP('たばこ')">たばこ</td><td>香菸</td><td class="jp" onclick="speakJP('たばこを すいます。')">たばこを すいます。</td><td>抽菸。</td></tr>
    <tr><td class="jp" onclick="speakJP('てがみ')"><ruby><rb>手紙</rb><rt>てがみ</rt></ruby></td><td>信</td><td class="jp" onclick="speakJP('てがみを かきます。')">てがみを かきます。</td><td>寫信。</td></tr>
    <tr><td class="jp" onclick="speakJP('レポート')">レポート</td><td>報告</td><td class="jp" onclick="speakJP('レポートを かきます。')">レポートを かきます。</td><td>寫報告。</td></tr>
    <tr><td class="jp" onclick="speakJP('しゃしん')"><ruby><rb>写真</rb><rt>しゃしん</rt></ruby></td><td>照片</td><td class="jp" onclick="speakJP('しゃしんを とります。')">しゃしんを とります。</td><td>拍照片。</td></tr>
    <tr><td class="jp" onclick="speakJP('ビデオ')">ビデオ</td><td>影片</td><td class="jp" onclick="speakJP('ビデオを みます。')">ビデオを みます。</td><td>看影片。</td></tr>
    <tr><td class="jp" onclick="speakJP('みせ')"><ruby><rb>店</rb><rt>みせ</rt></ruby></td><td>商店</td><td class="jp" onclick="speakJP('みせに いきます。')">みせに いきます。</td><td>去商店。</td></tr>
    <tr><td class="jp" onclick="speakJP('にわ')"><ruby><rb>庭</rb><rt>にわ</rt></ruby></td><td>庭院</td><td class="jp" onclick="speakJP('にわを みます。')">にわを みます。</td><td>看庭院。</td></tr>
    <tr><td class="jp" onclick="speakJP('しゅくだい')"><ruby><rb>宿題</rb><rt>しゅくだい</rt></ruby></td><td>作業</td><td class="jp" onclick="speakJP('しゅくだいを します。')">しゅくだいを します。</td><td>做作業。</td></tr>
    <tr><td class="jp" onclick="speakJP('テニス')">テニス</td><td>網球</td><td class="jp" onclick="speakJP('テニスを します。')">テニスを します。</td><td>打網球。</td></tr>
    <tr><td class="jp" onclick="speakJP('サッカー')">サッカー</td><td>足球</td><td class="jp" onclick="speakJP('サッカーを します。')">サッカーを します。</td><td>踢足球。</td></tr>
    <tr>
      <td class="jp" onclick="speakJP('おはなみ')"><ruby><rb>花見</rb><rt>はなみ</rt></ruby>（おはなみ）</td>
      <td>賞花</td>
      <td class="jp" onclick="speakJP('おはなみを します。')">おはなみを します。</td>
      <td>賞花。</td>
    </tr>

    <!-- 副詞・表現 -->
    <tr><td class="jp" onclick="speakJP('なに')"><ruby><rb>何</rb><rt>なに</rt></ruby></td><td>什麼</td><td class="jp" onclick="speakJP('なにを たべますか。')">なにを たべますか。</td><td>吃什麼？</td></tr>
    <tr><td class="jp" onclick="speakJP('いっしょに')">いっしょに</td><td>一起</td><td class="jp" onclick="speakJP('いっしょに のみます。')">いっしょに のみます。</td><td>一起喝。</td></tr>
    <tr><td class="jp" onclick="speakJP('ちょっと')">ちょっと</td><td>一點</td><td class="jp" onclick="speakJP('ちょっと まって ください。')">ちょっと まって ください。</td><td>請稍等一下。</td></tr>
    <tr><td class="jp" onclick="speakJP('いつも')">いつも</td><td>總是</td><td class="jp" onclick="speakJP('いつも テレビを みます。')">いつも テレビを みます。</td><td>總是看電視。</td></tr>
    <tr><td class="jp" onclick="speakJP('ときどき')">ときどき</td><td>有時</td><td class="jp" onclick="speakJP('ときどき さかなを たべます。')">ときどき さかなを たべます。</td><td>有時吃魚。</td></tr>
    <tr><td class="jp" onclick="speakJP('それから')">それから</td><td>然後</td><td class="jp" onclick="speakJP('それから べんきょうします。')">それから べんきょうします。</td><td>然後學習。</td></tr>
    <tr><td class="jp" onclick="speakJP('ええ')">ええ</td><td>是的</td><td class="jp" onclick="speakJP('ええ、 いきます。')">ええ、 いきます。</td><td>是的，去。</td></tr>
    <tr><td class="jp" onclick="speakJP('いいですね')">いいですね。</td><td>好啊</td><td class="jp" onclick="speakJP('いいですね。')">いいですね。</td><td>好啊。</td></tr>
    <tr><td class="jp" onclick="speakJP('わかりました')">わかりました。</td><td>明白了</td><td class="jp" onclick="speakJP('わかりました。')">わかりました。</td><td>明白了。</td></tr>
    <tr>
      <td class="jp" onclick="speakJP('なんですか')"><ruby><rb>何</rb><rt>なん</rt></ruby>ですか</td>
      <td>什麼事？</td>
      <td class="jp" onclick="speakJP('なんですか。')">なんですか。</td>
      <td>什麼事？</td>
    </tr>
    <tr>
      <td class="jp" onclick="speakJP('じゃ、また あした')">じゃ、また[あした]</td>
      <td>那麼，明天再見</td>
      <td class="jp" onclick="speakJP('じゃ、また あした。')">じゃ、また あした。</td>
      <td>那麼，明天見。</td>
    </tr>
  </table>

  <div class="button-home">
    <a href="index.html">回首頁 🏠</a>
  </div>

  <script>
    let voicesLoaded = false;

    // 語速設定（保存與還原）
    const rateInput = document.getElementById('rate');
    const rateVal = document.getElementById('rateVal');
    const savedRate = localStorage.getItem('jpRate');
    if (savedRate) {
      rateInput.value = savedRate;
      rateVal.textContent = Number(savedRate).toFixed(2) + '×';
    } else {
      rateVal.textContent = Number(rateInput.value).toFixed(2) + '×';
    }
    rateInput.addEventListener('input', () => {
      rateVal.textContent = Number(rateInput.value).toFixed(2) + '×';
      localStorage.setItem('jpRate', rateInput.value);
    });

    // 假名切換（保存與還原）
    const kanaToggle = document.getElementById('kanaToggle');
    const savedKana = localStorage.getItem('kanaVisible');
    if (savedKana === '0') {
      document.body.classList.add('hide-kana');
      kanaToggle.checked = false;
    } else {
      kanaToggle.checked = true;
    }
    kanaToggle.addEventListener('change', () => {
      if (kanaToggle.checked) {
        document.body.classList.remove('hide-kana');
        localStorage.setItem('kanaVisible', '1');
      } else {
        document.body.classList.add('hide-kana');
        localStorage.setItem('kanaVisible', '0');
      }
    });

    function speakJP(text) {
      if (!voicesLoaded) {
        window.speechSynthesis.onvoiceschanged = () => { voicesLoaded = true; speakJP(text); };
        speechSynthesis.getVoices();
        return;
      }
      speechSynthesis.cancel();
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'ja-JP';
      u.rate = Number(rateInput.value) || 1.0;
      const v = speechSynthesis.getVoices().find(voice => voice.lang === 'ja-JP');
      if (v) u.voice = v;
      speechSynthesis.speak(u);
    }

    document.addEventListener('DOMContentLoaded', () => {
      const check = () => {
        if (speechSynthesis.getVoices().length > 0) voicesLoaded = true;
        else setTimeout(check, 120);
      };
      check();
    });
  </script>
</body>
</html>

